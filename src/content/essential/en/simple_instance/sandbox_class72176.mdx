---
frametype: "simple_instance"
name: "sandbox_Class72176"
type: "Synonym"
supertype: ["Utilities", "EA_Support", "EA_Class", ":THING", "EA_Graph_Management", "EA_System"]
own_slot_value: [{slot_reference: "synonym_language", value: [{value_type: "simple_instance", value_content: "essential_baseline_v3.0.4_Class10004"}, ]}, 
{slot_reference: "system_content_visibility", value: [{value_type: "simple_instance", value_content: "KB_229567_Class68"}, ]}, 
{slot_reference: "name", value: [{value_type: "string", value_content: "fichiers Coda des paiements reçus sur le flux de Secal Php vers Secal mainframe"}, ]}, 
{slot_reference: "description", value: [{value_type: "string", value_content: "Échange de données (2 directions) entre TP-Alim Belconet (GCOS) et Web-alim PHP: 90% des flux mettent à jour le côté Php; 10% des flux mettent à jour le côté mainframe. 
Flux des paiements :
étape 1.Les fichiers Coda avec paiements recus lus par le côté mainframe
étape 2. Le php sécal extrait ces paiements de mainframe Secal pour visualiser les données entières du côté php 
étape 3. Attribution des paiements reçus au dossier dans le régistre d'attente php (mise à jour de la comptabilité des paiements Secal attribués  du côté php sans interaction avec le mainframe). 
Affectation automatique si
a) paiement avec une communication structurée correcte et 
b) s’il y a un match entre virement structuré du paiement avec le numéro du dossier existant et
c) si le status du dossier est que le paiement peut être reçu. 
Les paiements qui ne peuvent pas être attribués automatiquement ou pas semi-automatiquement resteront dans le régistre d'attente PhP, le «parking». Ceux-ci sont alloués manuellement au bon dossier après des recherches manuelles dans les dossiers de la base de données mysql du côté php. 
Etape 4.Secal php envoie ses données chaque jour au mainframe sécal en préparation des chaînes mainframe: la compatibilité (régistre d’attente des paiements alloués) est envoyée du côté php vers le mainframe où se déroule le recalcul de la dette. Parfois juste une mise à jour de certains indexes (par exemple index de santé) est transmis de Php vers le mainframe.
Flux vers le composant mainframe secal: 
-Recevoir fichier coda paiements reçus 
-Recevoir côté php des paiements alloués au fichier Secal pour recalcul de la dette côté mainframe  
-Création de dossier sur mainframe : changements manuels de jour via TP : rentrée des données par le bureau de recouvrement autorisé des formulaires de demande reçus de Java webforms par mail (+ parfois rentrée des données de la demande au bureau avec eid citoyen).
-+Traitement du soir par lots côté mainframe = chaque soir entre 19-20h + 4 jours spécifiques dans le mois complétés par :
a) 1ère chaîne mainframe mensuelle 2ème et 3ème jour ouvrable du mois soir : calculer les dettes et les transferts alloués le mois dernier
b) 2ème chaîne mainframe mensuelle autour du 11 et 12 du mois: payer les avances dans certains dossiers (pas tous les mois exactement à la même date, début de l'année un calendrier est fixé). 
-chaque matin synchronisation des données de BULL mainframe : FTP+ batch."}, ]}, 
{slot_reference: "system_content_lifecycle_status", value: [{value_type: "simple_instance", value_content: "KB_229567_Class67"}, ]}, 
{slot_reference: "external_repository_instance_reference", value: [{value_type: "simple_instance", value_content: "sandbox_Class81361"}, ]}, 
{slot_reference: "system_is_published", value: [{value_type: "boolean", value_content: "true"}, ]}]
---
