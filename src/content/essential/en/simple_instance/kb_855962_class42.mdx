---
frametype: "simple_instance"
name: "KB_855962_Class42"
type: "APP_PRO_TO_INFOREP_RELATION"
supertype: ["APP_TO_INFO_RELATION", "Application_Relationship", "EA_Relation", ":SYSTEM-CLASS", ":THING", "EA_Graph_Management", "EA_System"]
own_slot_value: [{slot_reference: "app_pro_to_inforep_to_inforep", value: [{value_type: "simple_instance", value_content: "KB_855962_Class43"}, ]}, 
{slot_reference: "app_pro_persists_info_rep", value: [{value_type: "boolean", value_content: "false"}, ]}, 
{slot_reference: "app_pro_to_inforep_from_app", value: [{value_type: "simple_instance", value_content: "KB_958736_Class1517"}, ]}, 
{slot_reference: "app_pro_reads_info_rep", value: [{value_type: "string", value_content: "Yes"}, ]}, 
{slot_reference: "app_pro_creates_info_rep", value: [{value_type: "string", value_content: "Unknown"}, ]}, 
{slot_reference: "app_pro_deletes_info_rep", value: [{value_type: "string", value_content: "Unknown"}, ]}, 
{slot_reference: "app_pro_updates_info_rep", value: [{value_type: "string", value_content: "Unknown"}, ]}, 
{slot_reference: "relation_description", value: [{value_type: "string", value_content: "Gegevensuitwisseling (2 richtingen) tussen TP-Alim Belconet (GCOS) en Web-alim PHP: 
90% stromen actualiseren de Php zijde; 10% stromen actualiseren de mainframe zijde.

Flow betalingen:
1.Coda-bestanden ontvangen betalingen ingelezen op mainframezijde
2.Secal php trekt deze betalingen binnen van secal mainframe om geheel gegevens te visualiseren aan php kant
3.Toerekening ontvangen betalingen aan dossier in php wachtregister (actualisatie comptabiliteit toegerekende secal betalingen aan php zijde zonder interactie met mainframe).
Toerekening automatisch als
a)betaling voorzien van juiste gestructureerde mededeling en 
b)als match tss. OGM van betaling met bestaand dossiernr. en
c)als dossier status heeft dat betaling kan ontvangen worden. 
Betalingen die niet automatisch of niet semi automatisch toegewezen kunnen worden, blijven staan in het PhP-wachtregister, de “parking”. Deze worden manueel toegerekend aan juiste dossier na manuele opzoekingen in de dossiers in de mysql db aan php zijde.
4.Secal php stuurt elke dag zijn gegevens door naar de secal mainframe ter voorbereiding van de mainframe-kettingen:
comptabiliteit (wachtregister toegerekende betalingen) wordt van de php naar de mainframe gestuurd waar de herberekening van de schuld gebeurt. Soms gewoon ook mise à jour van sommige indexen (bv. gezondheidsindex) doorgestuurd van Php naar de mainframe. 

Flows naar secal PhP component:

-php zijde trekt binnen wat secal mainframe doorstuurt om geheel gegevens te visualiseren aan php kant naar dossierbeheerder toe:
a)flow masterdata mainframe (manueel via TP gecreëerde dossiers) dagelijks doorgestuurd naar Secal php component waar deze dossiers opgeslagen worden in mysql-db om opzoekingen te kunnen doen aan php zijde in de dossiers (geen opzoekmogelijkheden in db mainframe = immers indexsequentiele bestanden zonder echte Dbms).
b)inlezen ontvangen betalingen afkomstig van secal mainframe, zie hoger flows betalingen pt. 2
c)‘S nachts mainframe batch voor file transfer via Ftp van eind-resultaat avond en maand mainframeketting van mainframe component secal naar php component secal.

-Php kant lanceert ‘s morgens aantal batches om gegevens te actualiseren aan Php zijde en die dan te presenteren naar gebruiker toe (webalim):
Php zijde rekent o.a. ontvangen betalingen automatisch toe aan juiste secal dossier in mysql db (betreft betalingen die php zijde ontving van de mainframe component waarin eerder coda bestanden ingelezen): zie hoger flows betalingen pt 3. Sommige betalingen manueel toegerekend na manuele opzoeking juiste secal dossier in mysql db.

-Wat php binnentrekt van de mainframe, is dus al gestockeerd op de mainframe db (betalingen / dossiergegevens / stand van de schuld), behalve volgende gegevens (php zijde authentieke bron):
 link betaling  secal dossier: gaat wel terug nr de mainframe
 veld 180b : alleen op php zijde
 notities rcd notas: alleen op php zijde
 bevoegd kantoor voor invordering: alleen op php zijde; let wel aanvraagkantoor wel op mainframe opgeslagen, gaat samen met dossiercreatie op mainframe."}, ]}, 
{slot_reference: "relation_name", value: [{value_type: "string", value_content: "ontvangen betalingen in flow van secal mainfr naar secal php managed by TVA Alimentatievergoedingen (secal mainfr)_PROD"}, ]}, 
{slot_reference: "system_is_published", value: [{value_type: "boolean", value_content: "true"}, ]}]
---
